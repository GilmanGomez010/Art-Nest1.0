"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{8033:function(e,t,r){r.d(t,{a:function(){return o}});var a=r(7437),s=r(4210),i=r(9376),n=r(2265);function o(e){let{children:t,requireAuth:r=!0,redirectTo:o="/login"}=e,{user:c,isLoading:l}=(0,s.a)(),u=(0,i.useRouter)(),[d,m]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{l||(r&&!c?(u.push(o),m(!1)):!r&&c?(u.push("/dashboard"),m(!1)):m(!0))},[c,l,r,o,u]),l||!d)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Cargando..."})]})}):(0,a.jsx)(a.Fragment,{children:t})}},4353:function(e,t,r){r.d(t,{MobileLayout:function(){return x}});var a=r(7437),s=r(4508),i=r(4210),n=r(4938),o=r(3247),c=r(9397),l=r(2718),u=r(2369),d=r(9376);let m=[{icon:n.Z,label:"Inicio",href:"/mobile"},{icon:o.Z,label:"Buscar",href:"/mobile/search"},{icon:c.Z,label:"Crear",href:"/mobile/create"},{icon:l.Z,label:"Chat",href:"/mobile/community"},{icon:u.Z,label:"Perfil",href:"/mobile/profile"}];function g(){let e=(0,d.usePathname)(),t=(0,d.useRouter)();return(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-sm border-t border-border z-50",children:(0,a.jsx)("div",{className:"flex items-center justify-around py-2 px-4 max-w-md mx-auto",children:m.map(r=>{let i=r.icon,n=e===r.href;return(0,a.jsxs)("button",{onClick:()=>t.push(r.href),className:(0,s.cn)("flex flex-col items-center justify-center p-2 rounded-lg transition-colors min-w-[60px]",n?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[(0,a.jsx)(i,{className:"h-5 w-5 mb-1"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:r.label})]},r.href)})})})}var f=r(8033),h=r(6831),p=r(4766),b=r(8728),v=r(2869);function x(e){var t;let{children:r,title:n="ArtNest",showHeader:o=!0,showNav:c=!0}=e,{user:l}=(0,i.a)();return(0,a.jsx)(f.a,{requireAuth:!0,children:(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[o&&(0,a.jsx)("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-sm border-b border-border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(h.qE,{className:"h-8 w-8",children:[(0,a.jsx)(h.F$,{src:(null==l?void 0:l.avatar)||"/placeholder.svg"}),(0,a.jsx)(h.Q5,{className:"bg-primary/10 text-primary text-sm",children:(null==l?void 0:null===(t=l.name)||void 0===t?void 0:t.charAt(0))||"U"})]}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-foreground",children:n})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)(v.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)("main",{className:(0,s.cn)("max-w-md mx-auto",c&&"pb-20",o&&"pt-0"),children:r}),c&&(0,a.jsx)(g,{})]})})}},6831:function(e,t,r){r.d(t,{F$:function(){return o},Q5:function(){return c},qE:function(){return n}});var a=r(7437);r(2265);var s=r(4930),i=r(4508);function n(e){let{className:t,...r}=e;return(0,a.jsx)(s.fC,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)(s.Ee,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)(s.NY,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}},2869:function(e,t,r){r.d(t,{z:function(){return c}});var a=r(7437);r(2265);var s=r(7053),i=r(535),n=r(4508);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:r,size:i,asChild:c=!1,...l}=e,u=c?s.g7:"button";return(0,a.jsx)(u,{"data-slot":"button",className:(0,n.cn)(o({variant:r,size:i,className:t})),...l})}},6070:function(e,t,r){r.d(t,{Ol:function(){return n},SZ:function(){return c},Zb:function(){return i},aY:function(){return l},ll:function(){return o}});var a=r(7437);r(2265);var s=r(4508);function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}},4210:function(e,t,r){r.d(t,{AuthProvider:function(){return n},a:function(){return o}});var a=r(7437),s=r(2265);let i=(0,s.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0),[l,u]=(0,s.useState)(new Map);(0,s.useEffect)(()=>{let e=localStorage.getItem("art-nest-user");if(e)try{let t=JSON.parse(e);n(t)}catch(e){console.error("Error parsing saved user data:",e),localStorage.removeItem("art-nest-user")}c(!1)},[]);let d=async(e,t)=>{try{if(await new Promise(e=>setTimeout(e,1500)),"demo@artnest.com"===e&&"demo123"===t){let t={id:"1",email:e,firstName:"Demo",lastName:"User",createdAt:new Date};return n(t),localStorage.setItem("art-nest-user",JSON.stringify(t)),{success:!0}}if(e&&t.length>=6){let t={id:Math.random().toString(36).substr(2,9),email:e,firstName:e.split("@")[0],lastName:"Artist",createdAt:new Date};return n(t),localStorage.setItem("art-nest-user",JSON.stringify(t)),{success:!0}}return{success:!1,error:"Credenciales inv\xe1lidas"}}catch(e){return{success:!1,error:"Error de conexi\xf3n"}}},m=async e=>{try{if(await new Promise(e=>setTimeout(e,2e3)),e.email&&e.password.length>=6){let t={id:Math.random().toString(36).substr(2,9),email:e.email,firstName:e.firstName,lastName:e.lastName,createdAt:new Date};return n(t),localStorage.setItem("art-nest-user",JSON.stringify(t)),{success:!0}}return{success:!1,error:"Datos inv\xe1lidos"}}catch(e){return{success:!1,error:"Error de conexi\xf3n"}}},g=async e=>{try{if(await new Promise(e=>setTimeout(e,1500)),!e||!e.includes("@"))return{success:!1,error:"Email inv\xe1lido"};let t=Math.floor(1e5+9e5*Math.random()).toString(),r=new Map(l);return r.set(e,t),u(r),console.log("[v0] C\xf3digo de verificaci\xf3n para ".concat(e,": ").concat(t)),{success:!0}}catch(e){return{success:!1,error:"Error al enviar el c\xf3digo"}}},f=async(e,t,r)=>{try{await new Promise(e=>setTimeout(e,1500));let a=l.get(e);if("123456"!==t&&t!==a)return{success:!1,error:"C\xf3digo de verificaci\xf3n inv\xe1lido"};if(r.length<6)return{success:!1,error:"La contrase\xf1a debe tener al menos 6 caracteres"};console.log("[v0] Contrase\xf1a actualizada para ".concat(e));let s=new Map(l);return s.delete(e),u(s),{success:!0}}catch(e){return{success:!1,error:"Error al restablecer la contrase\xf1a"}}};return(0,a.jsx)(i.Provider,{value:{user:r,login:d,register:m,requestPasswordReset:g,resetPassword:f,logout:()=>{n(null),localStorage.removeItem("art-nest-user")},isLoading:o},children:t})}function o(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3938:function(e,t){class r{static getInstance(){return r.instance||(r.instance=new r),r.instance}initializeMockData(){this.users=[{id:"1",name:"Jose",email:"jose@artnest.com",avatar:"/artist-profile.png",bio:"Artista digital especializado en paisajes",specialty:"Dise\xf1o pixel",followers:1234,following:567,publications:89,createdAt:new Date().toISOString()},{id:"2",name:"Mar\xeda Garc\xeda",email:"maria@artnest.com",avatar:"/female-artist-avatar.jpg",bio:"Ilustradora y dise\xf1adora gr\xe1fica",specialty:"Ilustraci\xf3n",followers:2341,following:432,publications:156,createdAt:new Date().toISOString()}],this.publications=[{id:"1",title:"P\xe1jaro Colorido",description:"Ilustraci\xf3n digital de un p\xe1jaro en estilo minimalista",imageUrl:"/colorful-bird-illustration.jpg",category:"Naranja",tags:["ilustraci\xf3n","minimalista","aves"],userId:"1",userName:"Jose",userAvatar:"/artist-profile.png",likes:234,views:1523,comments:45,createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-864e5).toISOString(),isPublic:!0},{id:"2",title:"Rostro Expresivo",description:"Arte digital con expresiones intensas",imageUrl:"/expressive-face-art-red.jpg",category:"Animal",tags:["digital","expresivo","retrato"],userId:"2",userName:"Mar\xeda Garc\xeda",userAvatar:"/female-artist-avatar.jpg",likes:567,views:3421,comments:89,createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-1728e5).toISOString(),isPublic:!0},{id:"3",title:"Llama Dorada",description:"Representaci\xf3n art\xedstica del fuego",imageUrl:"/golden-flame-fire-art.jpg",category:"Naranja",tags:["fuego","abstracto","c\xe1lido"],userId:"1",userName:"Jose",userAvatar:"/artist-profile.png",likes:432,views:2156,comments:67,createdAt:new Date(Date.now()-2592e5).toISOString(),updatedAt:new Date(Date.now()-2592e5).toISOString(),isPublic:!0}]}async getAllPublications(){return new Promise(e=>{setTimeout(()=>e([...this.publications]),300)})}async getPublicationById(e){return new Promise(t=>{setTimeout(()=>{t(this.publications.find(t=>t.id===e)||null)},200)})}async searchPublications(e){return new Promise(t=>{setTimeout(()=>{let r=[...this.publications];if(e.query){let t=e.query.toLowerCase();r=r.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t)))}e.category&&(r=r.filter(t=>t.category===e.category)),e.tags&&e.tags.length>0&&(r=r.filter(t=>e.tags.some(e=>t.tags.includes(e)))),e.userId&&(r=r.filter(t=>t.userId===e.userId)),"popular"===e.sortBy?r.sort((e,t)=>t.likes-e.likes):"trending"===e.sortBy?r.sort((e,t)=>t.views-e.views):r.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),t(r)},400)})}async createPublication(e){return new Promise(t=>{setTimeout(()=>{let r={...e,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};this.publications.unshift(r),t(r)},500)})}async updatePublication(e,t){return new Promise(r=>{setTimeout(()=>{let a=this.publications.findIndex(t=>t.id===e);-1!==a?(this.publications[a]={...this.publications[a],...t,updatedAt:new Date().toISOString()},r(this.publications[a])):r(null)},400)})}async deletePublication(e){return new Promise(t=>{setTimeout(()=>{let r=this.publications.findIndex(t=>t.id===e);-1!==r?(this.publications.splice(r,1),t(!0)):t(!1)},300)})}async likePublication(e){return new Promise(t=>{setTimeout(()=>{let r=this.publications.find(t=>t.id===e);r?(r.likes+=1,t(r)):t(null)},200)})}async getUserById(e){return new Promise(t=>{setTimeout(()=>{t(this.users.find(t=>t.id===e)||null)},200)})}async getUserPublications(e){return new Promise(t=>{setTimeout(()=>{t(this.publications.filter(t=>t.userId===e))},300)})}async getPublicationComments(e){return new Promise(t=>{setTimeout(()=>{t(this.comments.filter(t=>t.publicationId===e))},200)})}async addComment(e){return new Promise(t=>{setTimeout(()=>{let r={...e,id:Date.now().toString(),createdAt:new Date().toISOString()};this.comments.push(r);let a=this.publications.find(t=>t.id===e.publicationId);a&&(a.comments+=1),t(r)},300)})}constructor(){this.publications=[],this.users=[],this.comments=[],this.initializeMockData()}}t.Z=r},4508:function(e,t,r){r.d(t,{cn:function(){return i}});var a=r(1994),s=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}}]);