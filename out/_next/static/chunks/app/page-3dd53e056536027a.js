(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6695:function(e,r,t){Promise.resolve().then(t.bind(t,7340))},7340:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return u}});var s=t(7437),a=t(2265),n=t(9376),o=t(4210);function u(){let{user:e,isLoading:r}=(0,o.a)(),t=(0,n.useRouter)();return((0,a.useEffect)(()=>{r||(e?t.push("/dashboard"):t.push("/login"))},[e,r,t]),r)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Cargando ART NEST..."})]})}):null}},4210:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return o},a:function(){return u}});var s=t(7437),a=t(2265);let n=(0,a.createContext)(void 0);function o(e){let{children:r}=e,[t,o]=(0,a.useState)(null),[u,c]=(0,a.useState)(!0),[i,l]=(0,a.useState)(new Map);(0,a.useEffect)(()=>{let e=localStorage.getItem("art-nest-user");if(e)try{let r=JSON.parse(e);o(r)}catch(e){console.error("Error parsing saved user data:",e),localStorage.removeItem("art-nest-user")}c(!1)},[]);let d=async(e,r)=>{try{if(await new Promise(e=>setTimeout(e,1500)),"demo@artnest.com"===e&&"demo123"===r){let r={id:"1",email:e,firstName:"Demo",lastName:"User",createdAt:new Date};return o(r),localStorage.setItem("art-nest-user",JSON.stringify(r)),{success:!0}}if(e&&r.length>=6){let r={id:Math.random().toString(36).substr(2,9),email:e,firstName:e.split("@")[0],lastName:"Artist",createdAt:new Date};return o(r),localStorage.setItem("art-nest-user",JSON.stringify(r)),{success:!0}}return{success:!1,error:"Credenciales inv\xe1lidas"}}catch(e){return{success:!1,error:"Error de conexi\xf3n"}}},m=async e=>{try{if(await new Promise(e=>setTimeout(e,2e3)),e.email&&e.password.length>=6){let r={id:Math.random().toString(36).substr(2,9),email:e.email,firstName:e.firstName,lastName:e.lastName,createdAt:new Date};return o(r),localStorage.setItem("art-nest-user",JSON.stringify(r)),{success:!0}}return{success:!1,error:"Datos inv\xe1lidos"}}catch(e){return{success:!1,error:"Error de conexi\xf3n"}}},f=async e=>{try{if(await new Promise(e=>setTimeout(e,1500)),!e||!e.includes("@"))return{success:!1,error:"Email inv\xe1lido"};let r=Math.floor(1e5+9e5*Math.random()).toString(),t=new Map(i);return t.set(e,r),l(t),console.log("[v0] C\xf3digo de verificaci\xf3n para ".concat(e,": ").concat(r)),{success:!0}}catch(e){return{success:!1,error:"Error al enviar el c\xf3digo"}}},h=async(e,r,t)=>{try{await new Promise(e=>setTimeout(e,1500));let s=i.get(e);if("123456"!==r&&r!==s)return{success:!1,error:"C\xf3digo de verificaci\xf3n inv\xe1lido"};if(t.length<6)return{success:!1,error:"La contrase\xf1a debe tener al menos 6 caracteres"};console.log("[v0] Contrase\xf1a actualizada para ".concat(e));let a=new Map(i);return a.delete(e),l(a),{success:!0}}catch(e){return{success:!1,error:"Error al restablecer la contrase\xf1a"}}};return(0,s.jsx)(n.Provider,{value:{user:t,login:d,register:m,requestPasswordReset:f,resetPassword:h,logout:()=>{o(null),localStorage.removeItem("art-nest-user")},isLoading:u},children:r})}function u(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6695)}),_N_E=e.O()}]);